/*! gm.datepickerMultiSelect 2015-10-15 */
!function(){"use strict";angular.module("gm.datepickerMultiSelect",["ui.bootstrap"]).config(["$provide","$injector",function(a,b){var c=function(a){var b=a[0],c=b.link;return b.compile=function(){return function(a,b,d,e){c.apply(this,arguments),a.selectedDates=[],a.selectRange,a.$parent.$watchCollection(d.multiSelect,function(b){a.selectedDates=b||[]}),d.$observe("selectRange",function(b){a.selectRange=!!b&&"false"!==b}),a.$parent.$watch(d.ngModel,function(b,c){if(b){var d=b.getTime(),e=a.selectedDates;if(a.selectRange){if(!e.length||e.length>1||e[0]==d)return e.splice(0,e.length,d);e.push(d);var f=Math.min.apply(null,e),g=Math.max.apply(null,e);for(f=new Date(f).setHours(24);g>f;)e.push(f),f=new Date(f).setHours(24)}else e.indexOf(d)<0?e.push(d):e.splice(e.indexOf(d),1)}})}},a};b.has("datepickerDirective")&&a.decorator("datepickerDirective",["$delegate",c]),b.has("uibDatepickerDirective")&&a.decorator("uibDatepickerDirective",["$delegate",c]);var d=function(a){var b=a[0],c=b.link;return b.compile=function(){return function(a,b,d,e){function f(){angular.forEach(a.rows,function(b){angular.forEach(b,function(b){b.selected=a.selectedDates.indexOf(b.date.setHours(0,0,0,0))>-1})})}c.apply(this,arguments),a.$parent.$watchCollection("selectedDates",f);var g=angular.isArray(e)?e[0]:e;a.$watch(function(){return g.activeDate.getTime()},f)}},a};b.has("daypickerDirective")&&a.decorator("daypickerDirective",["$delegate",d]),b.has("uibDaypickerDirective")&&a.decorator("uibDaypickerDirective",["$delegate",d])}])}();